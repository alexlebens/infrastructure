libation:
  controllers:
    main:
      type: cronjob
      cronjob:
        suspend: false
        concurrencyPolicy: Forbid
        timeZone: US/Central
        schedule: 0 0 1 1 *
        startingDeadlineSeconds: 90
        successfulJobsHistory: 1
        failedJobsHistory: 1
        backoffLimit: 3
        parallelism: 1
      containers:
        main:
          image:
            repository: rmcrackan/libation
            tag: 13.1.2
            pullPolicy: IfNotPresent
          env:
            - name: SLEEP_TIME
              value: "-1"
            - name: LIBATION_BOOKS_DIR
              value: /data
          resources:
            requests:
              cpu: 10m
              memory: 128Mi
    debug:
      type: deployment
      replicas: 0
      strategy: Recreate
      containers:
        main:
          image:
            repository: ubuntu
            tag: resolute-20251208
            pullPolicy: IfNotPresent
          command:
            - "sleep"
            - "infinity"
          resources:
            requests:
              cpu: 10m
              memory: 32Mi
  persistence:
    config:
      forceRename: libation
      storageClass: ceph-block
      accessMode: ReadWriteOnce
      size: 500Mi
      retain: true
      advancedMounts:
        main:
          main:
            - path: /config
              readOnly: false
        debug:
          main:
            - path: /config
              readOnly: false
    audiobooks:
      existingClaim: libation-nfs-storage
      advancedMounts:
        main:
          main:
            - path: /data
              readOnly: false
        debug:
          main:
            - path: /data
              readOnly: false
volsync-target-config:
  pvcTarget: libation
  local:
    enabled: true
    schedule: 36 8 * * *
  remote:
    enabled: false
  external:
    enabled: true
    schedule: 36 9 * * *
