element-web:
  replicaCount: 1
  defaultServer:
    url: https://matrix.alexlebens.dev
    name: alexlebens.dev
    identity_url: https://alexlebens.dev
  config:
    disable_3pid_login: true
    brand: "Alex Lebens"
    branding:
      welcome_background_url: https://alexlebens-dev.nyc3.digitaloceanspaces.com/cl02do/assets/background.jpg
      auth_header_logo_url: https://alexlebens-dev.nyc3.digitaloceanspaces.com/cl02do/assets/icon_white.png
    sso_redirect_options:
      immediate: true
    default_theme: dark
    default_country_code: US
  ingress:
    enabled: false
  resources:
    requests:
      cpu: 100m
      memory: 128Mi
cloudflared:
  global:
    nameOverride: cloudflared
  controllers:
    main:
      type: deployment
      strategy: Recreate
      containers:
        main:
          image:
            repository: cloudflare/cloudflared
            tag: "2024.5.0"
            pullPolicy: IfNotPresent
          args:
            - tunnel
            - --no-autoupdate
            - run
            - --token
            - $(CF_MANAGED_TUNNEL_TOKEN)
          env:
            - name: CF_MANAGED_TUNNEL_TOKEN
              valueFrom:
                secretKeyRef:
                  name: element-web-cloudflared-secret
                  key: cf-tunnel-token
          resources:
            requests:
              cpu: 100m
              memory: 128Mi
