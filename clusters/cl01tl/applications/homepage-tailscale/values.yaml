homepage:
  global:
    nameOverride: homepage
  controllers:
    main:
      type: deployment
      annotations:
        reloader.stakater.com/auto: "true"
      strategy: Recreate
      containers:
        main:
          image:
            repository: ghcr.io/gethomepage/homepage
            tag: v0.9.6
            pullPolicy: IfNotPresent
          envFrom:
            - secretRef:
                name: homepage-keys-secret
          resources:
            requests:
              cpu: 100m
              memory: 256Mi
  serviceAccount:
    create: true
    name: homepage
  configMaps:
    config:
      enabled: true
      data:
        docker.yaml: ""
        kubernetes.yaml: |
          mode: cluster
        settings.yaml: |
          favicon: https://d21zlbwtcn424f.cloudfront.net/icon_white.png
          headerStyle: clean
          hideVersion: true
          color: slate
          background:
            image: https://d21zlbwtcn424f.cloudfront.net/background.jpg
          theme: dark
          disableCollapse: true
          layout:
            - Media:
                tab: Applications
                icon: mdi-multimedia-#ffffff
            - External:
                tab: Applications
                icon: mdi-application-#ffffff
            - Internal:
                tab: Applications
                icon: mdi-application-#ffffff
            - Code:
                tab: Tools
                icon: mdi-code-braces-box-#ffffff
            - Monitoring:
                tab: Tools
                icon: mdi-chart-bar-#ffffff
            - Services:
                tab: Services
                icon: mdi-server-network-#ffffff
            - Hardware:
                tab: Services
                icon: mdi-lan-connect-#ffffff
            - Storage:
                tab: Services
                icon: mdi-harddisk-#ffffff
            - Sonarr:
                tab: Servarr
                icon: mdi-television-#ffffff
            - Radarr:
                tab: Servarr
                icon: mdi-filmstrip-#ffffff
            - Otharr:
                tab: Servarr
                icon: mdi-music-box-multiple-#ffffff
            - Media Services:
                tab: Servarr
                icon: mdi-radar-#ffffff
            - External Services:
                tab: Bookmarks
                icon: mdi-cloud-#ffffff
            - Other Homes:
                tab: Bookmarks
                icon: mdi-cloud-#ffffff
            - Trackers:
                tab: Bookmarks
                icon: mdi-cloud-#ffffff
        widgets.yaml: |
          - logo:
              icon: https://d21zlbwtcn424f.cloudfront.net/icon_white.png
          - kubernetes:
              cluster:
                show: true
                cpu: true
                memory: true
                showLabel: true
                label: "Cluster"
              nodes:
                show: false
          - datetime:
              text_size: xl
              format:
                dateStyle: long
                timeStyle: short
                hour12: false
          - openmeteo:
              label: St. Paul
              latitude: 44.95
              longitude: 93.09
              units: metric
              cache: 5
        services.yaml: |
          - Storage:
              - Secret Management:
                  icon: vault.png
                  description: Vault
                  href: https://vault-cl01tl.boreal-beaufort.ts.net
                  siteMonitor: http://vault.vault:8200
                  statusStyle: dot
          - Otharr:
              - Lidarr:
                  icon: lidarr.png
                  description: Music
                  href: https://lidarr-cl01tl.boreal-beaufort.ts.net
                  siteMonitor: http://lidarr2.lidarr2:80
                  statusStyle: dot
                  widget:
                    type: lidarr
                    url: http://lidarr2.lidarr2:80
                    key: {{ "{{HOMEPAGE_VAR_LIDARR2_KEY}}" }}
                    fields: ["wanted", "queued", "artists"]
        bookmarks.yaml: |
          - External Services:
              - Github:
                  - abbr: GH
                    href: https://github.com/alexlebens/infrastructure
              - Renovate:
                  - abbr: RN
                    href: https://developer.mend.io/[platform]/alexlebens/infrastructure
              - AWS:
                  - abbr: AW
                    href: https://aws.amazon.com/console/
              - Cloudflare:
                  - abbr: CF
                    href: https://dash.cloudflare.com/b76e303258b84076ee01fd0f515c0768
              - Tailscale:
                  - abbr: TS
                    href: https://login.tailscale.com/admin/machines
              - ProtonVPN:
                  - abbr: PV
                    href: https://account.protonvpn.com/
              - Unifi:
                  - abbr: UF
                    href: https://unifi.ui.com/
              - Pushover:
                  - abbr: PO
                    href: https://pushover.net
              - ReCaptcha:
                  - abbr: RC
                    href: https://www.google.com/recaptcha/admin/site/698983587
              - Dashboard Icons:
                  - abbr: DI
                    href: https://github.com/walkxcode/dashboard-icons/tree/main/png
          - Other Homes:
              - Home:
                  - abbr: HM
                    href: https://home.alexlebens.net          
              - Dev:
                  - abbr: DV
                    href: https://home.alexlebens.dev
              - Lebens Home:
                  - abbr: LH
                    href: https://www.lebens-home.net
          - Trackers:
              - Torrentleech:
                  - abbr: TL
                    href: https://www.torrentleech.org
              - Avistaz:
                  - abbr: AV
                    href: https://avistaz.to
              - Cinemaz:
                  - abbr: CM
                    href: https://cinemaz.to
              - Cathode Ray Tube:
                  - abbr: CRT
                    href: https://www.cathode-ray.tube
              - Alpha Ratio:
                  - abbr: AL
                    href: https://alpharatio.cc/
              - MV Group:
                  - abbr: MV
                    href: https://forums.mvgroup.org
  service:
    http:
      controller: main
      ports:
        http:
          port: 80
          targetPort: 3000
          protocol: HTTP
  ingress:
    tailscale:
      enabled: true
      className: tailscale
      hosts:
        - host: home-cl01tl
          paths:
            - path: /
              pathType: Prefix
              service:
                name: homepage-tailscale
                port: 80
      tls:
        - hosts:
            - home-cl01tl
  persistence:
    config:
      enabled: true
      type: configMap
      name: homepage-tailscale-config
      advancedMounts:
        main:
          main:
            - path: /app/config/bookmarks.yaml
              readOnly: true
              mountPropagation: None
              subPath: bookmarks.yaml
            - path: /app/config/docker.yaml
              readOnly: true
              mountPropagation: None
              subPath: docker.yaml
            - path: /app/config/kubernetes.yaml
              readOnly: true
              mountPropagation: None
              subPath: kubernetes.yaml
            - path: /app/config/services.yaml
              readOnly: true
              mountPropagation: None
              subPath: services.yaml
            - path: /app/config/settings.yaml
              readOnly: true
              mountPropagation: None
              subPath: settings.yaml
            - path: /app/config/widgets.yaml
              readOnly: true
              mountPropagation: None
              subPath: widgets.yaml
